<!DOCTYPE html>
<html lang="ja">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>予約フォーム</title>
</head>
<body>
  <h1>予約フォーム</h1>

  <!-- 名前 -->
  <label for="name">予約者名:</label>
  <input type="text" id="name" name="name" placeholder="お名前" required><br><br>

  <!-- 希望1 -->
  <h2>希望1</h2>
  <label for="month1">月:</label>
  <select id="month1" name="month1" required>
    <option value="1">1月</option>
    <option value="2">2月</option>
    <option value="3">3月</option>
    <option value="4">4月</option>
    <option value="5">5月</option>
    <option value="6">6月</option>
    <option value="7">7月</option>
    <option value="8">8月</option>
    <option value="9">9月</option>
    <option value="10">10月</option>
    <option value="11">11月</option>
    <option value="12">12月</option>
  </select><br>

  <label for="day1">日:</label>
  <select id="day1" name="day1" required></select><br>

  <label for="time1">時間:</label>
  <select id="time1" name="time1" required>
    <option value="9:00">9:00</option>
    <option value="10:00">10:00</option>
    <option value="11:00">11:00</option>
    <option value="12:00">12:00</option>
    <option value="13:00">13:00</option>
    <option value="14:00">14:00</option>
    <option value="15:00">15:00</option>
  </select><br>

  <!-- 希望2 -->
  <h2>希望2</h2>
  <label for="month2">月:</label>
  <select id="month2" name="month2" required>
    <option value="1">1月</option>
    <option value="2">2月</option>
    <option value="3">3月</option>
    <option value="4">4月</option>
    <option value="5">5月</option>
    <option value="6">6月</option>
    <option value="7">7月</option>
    <option value="8">8月</option>
    <option value="9">9月</option>
    <option value="10">10月</option>
    <option value="11">11月</option>
    <option value="12">12月</option>
  </select><br>

  <label for="day2">日:</label>
  <select id="day2" name="day2" required></select><br>

  <label for="time2">時間:</label>
  <select id="time2" name="time2" required>
    <option value="9:00">9:00</option>
    <option value="10:00">10:00</option>
    <option value="11:00">11:00</option>
    <option value="12:00">12:00</option>
    <option value="13:00">13:00</option>
    <option value="14:00">14:00</option>
    <option value="15:00">15:00</option>
  </select><br>

  <!-- 希望3 -->
  <h2>希望3</h2>
  <label for="month3">月:</label>
  <select id="month3" name="month3" required>
    <option value="1">1月</option>
    <option value="2">2月</option>
    <option value="3">3月</option>
    <option value="4">4月</option>
    <option value="5">5月</option>
    <option value="6">6月</option>
    <option value="7">7月</option>
    <option value="8">8月</option>
    <option value="9">9月</option>
    <option value="10">10月</option>
    <option value="11">11月</option>
    <option value="12">12月</option>
  </select><br>

  <label for="day3">日:</label>
  <select id="day3" name="day3" required></select><br>

  <label for="time3">時間:</label>
  <select id="time3" name="time3" required>
    <option value="9:00">9:00</option>
    <option value="10:00">10:00</option>
    <option value="11:00">11:00</option>
    <option value="12:00">12:00</option>
    <option value="13:00">13:00</option>
    <option value="14:00">14:00</option>
    <option value="15:00">15:00</option>
  </select><br><br>

  <!-- メニュー -->
  <label for="menu">メニュー:</label>
  <select id="menu" name="menu" required>
    <option value="カットエステ">カットエステ</option>
    <option value="カラーケア">カラーケア</option>
    <option value="ストレートケア">ストレートケア</option>
    <option value="トリートメントケア">トリートメントケア</option>
    <option value="パーマケア">パーマケア</option>
    <option value="その他">その他</option>
  </select><br>

 <!-- "その他"が選ばれた時の入力フィールド -->
 <div id="otherMenuInput">
  <label for="otherMenuDetail">ご記入ください:</label>
  <textarea id="otherMenuDetail" name="otherMenuDetail" placeholder="その他のメニュー内容"></textarea><br>
</div>


  <!-- スタイリスト -->
  <label for="staff">スタッフ:</label>
  <select id="staff" name="staff" required>
    <option value="岡崎仁渡">岡崎仁渡</option>
    <option value="岡崎菜月">岡崎菜月</option>
    <option value="指名なし">指名なし</option>
  </select><br>

  <!-- 電話番号 -->
  <label for="phone">電話番号:</label>
  <input type="tel" id="phone" name="phone" placeholder="電話番号" required><br>

  <!-- コメント -->
  <label for="comments">その他記入事項:</label>
  <textarea id="comments" name="comments"></textarea><br>

  <button type="submit">送信</button>
</form>

<script>
  // 月と日の選択肢を制御する関数
  function updateDays(monthSelectId, daySelectId) {
    const month = document.getElementById(monthSelectId).value;
    const daySelect = document.getElementById(daySelectId);

    // 日付をリセット
    daySelect.innerHTML = '';

    // 月ごとに日数を制限
    let maxDays;
    switch (month) {
      case '2':
        maxDays = 28; // 2月（非うるう年）
        break;
      case '4':
      case '6':
      case '9':
      case '11':
        maxDays = 30; // 30日までの月
        break;
      default:
        maxDays = 31; // 31日までの月
    }

    // 日数の選択肢を作成
    for (let i = 1; i <= maxDays; i++) {
      const option = document.createElement("option");
      option.value = i;
      option.text = `${i}日`;
      daySelect.appendChild(option);
    }
  }

  // 月が変更された時に日付の選択肢を更新
  const monthSelectors = ['month1', 'month2', 'month3'];
  const daySelectors = ['day1', 'day2', 'day3'];

  monthSelectors.forEach((monthSelectorId, index) => {
    document.getElementById(monthSelectorId).addEventListener("change", function() {
      updateDays(monthSelectorId, daySelectors[index]);
    });

    // 初期化
    updateDays(monthSelectorId, daySelectors[index]);
  });

   // メニューが「その他」選ばれた時に入力フィールドを表示
   const menuSelect = document.getElementById('menu');
    const otherMenuInput = document.getElementById('otherMenuInput');

    menuSelect.addEventListener('change', function() {
      if (menuSelect.value === 'その他') {
        otherMenuInput.style.display = 'block'; // 表示
      } else {
        otherMenuInput.style.display = 'none'; // 非表示
      }
    });

    // 初期状態では「その他」の入力フィールドは非表示
    if (menuSelect.value !== 'その他') {
      otherMenuInput.style.display = 'none';
    }


  document.getElementById("reservationForm").addEventListener("submit", function(event) {
    event.preventDefault(); // フォームのデフォルト送信を防ぐ

    const formData = new FormData(event.target);
    const reservationData = Object.fromEntries(formData.entries());

    // サーバーに送信
    fetch("https://your-backend-url.com/line-notify", {
      method: "POST",
      headers: {
        "Content-Type": "application/json"
      },
      body: JSON.stringify(reservationData)
    })
    .then(response => {
      if (response.ok) {
        alert("予約内容が送信されました！");
      } else {
        alert("送信に失敗しました。");
      }
    })
    .catch(error => {
      console.error("エラー:", error);
      alert("エラーが発生しました。");
    });
  });
</script>
</body>
</html>
